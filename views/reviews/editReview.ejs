<% layout("layouts/boilerplate") %>

<div class="row mt-5">
  <div class="col-6 offset-3">
    <h3>Edit Your Review</h3>
    <form action="/listings/<%= listingId %>/reviews/<%= review._id %>?_method=PUT" method="POST">
      <div class="mb-3">
        <label for="comment" class="form-label">Comment</label>
        <textarea
          name="review[comment]"
          id="comment"
          rows="4"
          class="form-control"
          required
        ><%= review.comment %></textarea>
      </div>

      <div class="mb-3">
        <label for="rating" class="form-label">Rating</label>
        <select name="review[rating]" id="rating" class="form-select" required>
          <% for (let i = 1; i <= 5; i++) { %>
            <option value="<%= i %>" <%= review.rating === i ? 'selected' : '' %>><%= i %> Star<%= i > 1 ? 's' : '' %></option>
          <% } %>
        </select>
      </div>

      <button class="btn btn-primary">Update Review</button>
      <a href="/listings/<%= listingId %>" class="btn btn-secondary ms-2">Cancel</a>
    </form>
  </div>
</div>
